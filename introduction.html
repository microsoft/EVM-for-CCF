

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Introduction &mdash; EVM-for-CCF  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Implementation" href="implementation.html" />
    <link rel="prev" title="EVM for CCF Documentation" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> EVM-for-CCF
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building-and-running-tests">Building and running tests</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="implementation.html">Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="rpcinterface.html">RPC Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="demos.html">Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">EVM-for-CCF</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Introduction</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/Microsoft/EVM-for-CCF/blob/master/sphinx/source/introduction.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/microsoft/EVM-for-CCF">EVM for CCF</a> is a sample application for the <a class="reference external" href="https://github.com/Microsoft/CCF">Confidential Consortium Framework (CCF)</a>. It runs EVM bytecode transactions through <a class="reference external" href="https://github.com/Microsoft/eEVM/">Enclave EVM (eEVM)</a>, with all permanent state backed by CCF’s replicated, fault-tolerant <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">kv::Store</span></code>. Since transactions are executed inside the enclave this can provide confidential, attestable execution of EVM bytecode and smart contracts at significantly higher throughputs (and lower latencies) than most Ethereum networks.</p>
<p>An EVM for CCF service is a distributed network of TEEs running this sample application. This service can look like a standard Ethereum service, exposing the same API methods based on the <a class="reference external" href="https://github.com/ethereum/wiki/wiki/JSON-RPC">Ethereum JSON RPC</a> specification, but it has several crucial differences:</p>
<ul class="simple">
<li><p>Users trust responses because they come from an auditable TEE, rather than because they come from a local node. Users do not run their own local nodes repeating every transaction execution - they contact a trusted service.</p></li>
<li><p>Consensus is deterministic rather than probabilistic. Rather than waiting for multiple proof-of-work blocks, users know that their results have been persisted once CCF replicates them (via Raft or PBFT).</p></li>
<li><p>Private state can be kept in smart contracts. Contract state is not publically visible on the ledger, it is only visible to the executing nodes. So contracts can work directly with private state, rather than hashes or transforms of it.</p></li>
</ul>
</div>
<div class="section" id="building-and-running-tests">
<h2>Building and running tests<a class="headerlink" href="#building-and-running-tests" title="Permalink to this headline">¶</a></h2>
<p>To build from scratch:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir build
<span class="nb">cd</span> build
cmake -GNinja ..
ninja
</pre></div>
</div>
<p>To run tests:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> build
./tests.sh -VV
</pre></div>
</div>
<p>Some of the tests spin up a CCF network using the Python infrastructure from the CCF repo. This requires several Python libraries to be installed, including <a class="reference external" href="https://github.com/ethereum/web3.py">web3.py</a>.
The <code class="docutils literal notranslate"><span class="pre">tests.sh</span></code> creates a temporary Python environment and installs these dependencies before running the tests.</p>
<p>This project is not currently tested on wide variety of platforms. We develop on Ubuntu18.04 with Python3.7, compiling with Clang8 - there may be compatibility problems with other versions.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="implementation.html" class="btn btn-neutral float-right" title="Implementation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="EVM for CCF Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Microsoft Corporation

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>